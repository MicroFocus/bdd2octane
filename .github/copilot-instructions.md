# Copilot Instructions for bdd2octane

## Project Overview
This project, `bdd2octane`, is a standalone Java tool and Maven plugin designed to parse JUnit-style XML reports generated by various BDD frameworks. It cross-references these reports with Gherkin `.feature` files and sends the results to ALM Octane.

## Tech Stack & Build
- **Language:** Java (Source/Target: 1.8)
- **Build System:** Maven
- **Key Libraries:** 
  - `io.cucumber:gherkin` (v29+) for parsing feature files.
  - `io.cucumber:messages` (v25+) for Gherkin protocols.
  - `org.apache.ant` and `org.reflections` for file operations.
  - `xmlunit` for XML parsing/validation.

## Supported BDD Frameworks
When generating code or tests, be aware that this tool explicitly supports and tests against the following frameworks. Test resources for these are located in `src/test/resources/`:
- **Cucumber-JVM** (Java)
- **Cucumber-JS** (JavaScript)
- **Cucumber-Ruby** (Ruby)
- **PHP-Behat** (PHP)
- **Python-Radish** (Python)
- **Python-Behave** (Python)

## Development Guidelines
1. **Dual Execution Modes:** The project is built to run in two ways. Ensure changes support both:
   - **Executable JAR:** Built via `maven-assembly-plugin` (Main class: `com.microfocus.bdd.App`).
   - **Maven Plugin:** Built via `maven-plugin-plugin` (Goal prefix: `bdd2octane`).

2. **Testing Context:** 
   - Unit tests use JUnit 4 (`junit:junit:4.13.1`).
   - Integration tests are handled by `maven-failsafe-plugin`.
   - When writing tests, refer to existing XML reports and feature files in `src/test/resources/<framework>/` to ensure compatibility with real-world BDD outputs.

3. **Known Quirks:**
   - **Cucumber-JVM:** Be mindful of `maven-surefire-plugin` versions (specifically 2.19.1+ and bugs in 2.12.4/2.22.1) regarding how they format XML output (e.g., handling of parentheses in feature names).
   - **JUnit 5:** Requires specific system properties (`cucumber.junit-platform.naming-strategy=long`) for proper naming.

## Dependency Management
- Always check `pom.xml` for the latest versions of Cucumber dependencies, as this tool must stay compatible with modern Gherkin syntax.
- The project uses `maven-plugin-annotations` for plugin development.

